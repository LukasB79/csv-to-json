"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.csvToJson=function(r,e){void 0===e&&(e=exports.findDelimiter(r));var t=exports.rowsSpliter(r);return exports.rowsRider(t,e)},exports.rowsSpliter=function(r){return r.split(/[\r\n]+/).filter(function(r){return r})},exports.findDelimiter=function(r){var e=r.search(/[,;| ]/);return r[e]},exports.rowsRider=function(r,e){for(var t=r[0].split(e),n=[],o=1,i=r.length;o<i;o++){var s=r[o]+=e;n.push(exports.charRider(s,t,e))}return n},exports.charRider=function(r,e,t){for(var n="",o=0,i={},s=0,u=0,p=r;u<p.length;u++){var l=p[u];if('"'!==l)l!==t||0!==o&&2!==o?n+=l:(i[e[s]]=exports.getCastedValue(n),n="",s++,o=0);else{if(2===o){o--,n+=l;continue}o++}}return i},exports.getCastedValue=function(r){return""===r?null:isNaN(r)?r:+r};